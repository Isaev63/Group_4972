// №41 Пользователь вводит с клавиатуры M чисел. 
// Посчитайте, сколько чисел больше 0 ввёл пользователь.
// 0, 7, 8, -2, -2 -> 2
// -1, -7, 567, 89, 223-> 3
// (*) Пользователь вводит число нажатий, затем программа следит за нажатиями 
// и выдает сколько чисел больше 0 было введено.


// Вводим данные и делаем подсчет положительных чисел
int countPositiveNumbers()
{
    Console.Write("Введите числа через пробел: ");
    string input = Console.ReadLine() ?? "0";

    try
    {
        // Разбиваем введенную строку на отдельные числа
        string[] numStrings = input.Split(" ");

        // Создаем массив целых чисел
        int[] numbers = new int[numStrings.Length];
        // Инициализируем счетчик положительных чисел.
        int positiveCount = 0;

        // Проходим по каждой строке в массиве numStrings.
        for (int i = 0; i < numStrings.Length; i++)
        {
            // Пытаемся преобразовать текущую строку в целое число.
            // Если преобразование успешно, результат будет храниться в переменной "num".
            if (int.TryParse(numStrings[i], out int num))
            {
                // Сохраняем полученное число в массив "numbers".
                numbers[i] = num;
                // Если число положительное, увеличиваем счетчик положительных чисел.
                if (num > 0)
                {
                    positiveCount++;
                }
            }
            else
            {
                // Если преобразование не удалось, выбрасываем исключение с сообщением об ошибке ввода.
                throw new FormatException("Ошибка ввода: вводите только числа и разделяйте их пробелами!");
            }
        }

        // Возвращаем количество положительных чисел.
        return positiveCount;
    }
    // Обрабатываем исключение, которое может возникнуть при неверном вводе данных.
    catch (FormatException ex)
    {
        // Выводим сообщение об ошибке на экран.
        Console.WriteLine(ex.Message);
        // Возвращаем ноль, так как возникла ошибка.
        return 0;
    }
}

int count = countPositiveNumbers();
Console.WriteLine($"Количество положительных чисел: {count}");


// (*) Пользователь вводит число нажатий, затем программа следит за нажатиями 
// и выдает сколько чисел больше 0 было введено.
void countPositivePresses()
{
    // Запрашиваем у пользователя количество нажатий, которые он хочет ввести.
    Console.Write("Введите количество нажатий: ");
    if (int.TryParse(Console.ReadLine(), out int numberOfPresses))
    {
        int positiveCount = 0; // Инициализируем счетчик положительных чисел.

        // Ожидаем ввода нажатий.
        for (int i = 0; i < numberOfPresses; i++)
        {
            // Запрашиваем у пользователя нажатие.
            Console.Write($"[#{i + 1}] Введите число: ");
            if (int.TryParse(Console.ReadLine(), out int pressValue))
            {
                // Проверяем является ли нажатие положительным числом.
                if (pressValue > 0)
                {
                    positiveCount++;
                }
            }
            else
            {
                Console.WriteLine("Ошибка ввода. Вводите только целое число!");
                i--; // Если введенное значение не является числом, повторим ввод.
            }
        }
        Console.WriteLine($"Кол-во чисел больше 0: {positiveCount}");
    }
    else
    {
        Console.WriteLine("Ошибка ввода. Вводите только челое число!");
    }
}

countPositivePresses();
